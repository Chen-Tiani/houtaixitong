"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[0,786],{1786:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("BACK-ORDER")]),t("div",{staticClass:"xianz"},[t("div",{staticClass:"pio"},e._l(e.imgurl,(function(i,s){return t("img",{attrs:{width:"100%",height:"300px",src:i.url,alt:""},on:{click:function(t){return e.openPreview(s)}}})})),0)])])},l=[],r={data(){return{imgurl:[{url:i(8682)},{url:i(1593)}]}},mounted(){},methods:{show(){},openPreview(e=0){this.$ImagePreview(this.imgurl,e,{closeOnClickModal:!0,click:(e,t)=>{this.$message.success("点击事件"+t)},beforeClose:()=>{this.$message.success("关闭回调")}})}}},o=r,a=i(2349),n=(0,a.Z)(o,s,l,!1,null,"7c7b6c3e",null),u=n.exports},1e3:function(e,t,i){i.r(t),i.d(t,{default:function(){return $}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sp"},[t("div",{staticClass:"header"},[t("el-input",{attrs:{placeholder:"请输入内容"},on:{change:e.search},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.cent=!0}}},[e._v("查询")]),t("el-button",{attrs:{type:"success"}},[t("router-link",{staticStyle:{color:"azure"},attrs:{to:"/addshangp"}},[e._v("添加")])],1),t("Addnew",{staticStyle:{"margin-left":"20px"}})],1),t("div",{staticClass:"list"},[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"商品ID",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"180"}}),t("el-table-column",{attrs:{prop:"jig",label:"价格"}}),t("el-table-column",{attrs:{prop:"caozuo",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEdit(i.$index,i.row)}}},[e._v(" 编辑 ")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(i.$index,i.row)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{title:"修改列表",visible:e.dvp,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dvp=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"类目选择"}},[t("el-button",{attrs:{type:"primary"}},[e._v("类目选择")])],1),t("el-form-item",{attrs:{label:"商品ID",prop:"id"}},[t("el-input",{model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),t("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"商品价格",prop:"jig"}},[t("el-input",{model:{value:e.ruleForm.jig,callback:function(t){e.$set(e.ruleForm,"jig",t)},expression:"ruleForm.jig"}})],1),t("el-form-item",{attrs:{label:"商品图片",prop:"img"}},[t("el-button",{attrs:{type:"primary"}},[e._v("上传图片")])],1),t("el-form-item",{attrs:{label:"商品描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认修改")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),t("div",{staticClass:"feny"},[t("el-pagination",{attrs:{background:"","pager-count":5,"current-page":e.nowpage,"page-sizes":[6],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next,jumper",total:e.total},on:{"current-change":e.changepage}})],1)]],2)])},l=[],r=i(3941),o=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{attrs:{type:"success"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加2")]),t("el-dialog",{attrs:{title:"添加商品",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticClass:"addlist"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-dialog",{attrs:{width:"50%",title:"类目选择",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[t("el-tree",{attrs:{props:e.props,load:e.loadNode,lazy:""}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.innerVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.innerVisible=!1}}},[e._v("确 定")])],1)],1),t("el-form-item",{attrs:{label:"类目选择"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.ntk}},[e._v("类目选择")])],1),t("el-form-item",{attrs:{label:"商品ID",prop:"id"}},[t("el-input",{model:{value:e.ruleForm.id,callback:function(t){e.$set(e.ruleForm,"id",t)},expression:"ruleForm.id"}})],1),t("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"商品价格",prop:"jig"}},[t("el-input",{model:{value:e.ruleForm.jig,callback:function(t){e.$set(e.ruleForm,"jig",t)},expression:"ruleForm.jig"}})],1),t("el-dialog",{attrs:{width:"50%",title:"上传图片",visible:e.innerVisibleimg,"append-to-body":""},on:{"update:visible":function(t){e.innerVisibleimg=t}}},[t("Intoimg",{on:{sendimg:e.sendimg}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.innerVisibleimg=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.showimg}},[e._v("确 定")])],1)],1),t("el-form-item",{attrs:{label:"商品图片",prop:"img"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.innerVisibleimg=!0}}},[e._v("上传图片")]),t("br"),t("p",[t("img",{staticStyle:{"margin-right":"20px"},attrs:{width:"200px",src:e.ruleForm.img},on:{click:function(t){return e.openPreview()}}})])],1),t("el-form-item",{attrs:{label:"商品描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即添加")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},a=[],n=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.url,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.successUpload,"on-error":e.errorUpload,"file-list":e.fileList,"auto-upload":!1}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1)},u=[],c=i(1699),m={data(){return{url:c.Z.upload,fileList:[]}},methods:{errorUpload(e,t,i){this.$message({showClose:!0,message:"上传失败",type:"error"})},successUpload(e,t,i){this.$message({showClose:!0,message:"上传成功",type:"success"});let s=c.Z.host+"/"+e.url.slice(7);this.$emit("sendimg",s),console.log("上传成功",e,t,i)},submitUpload(){this.$refs.upload.submit()},handleRemove(e,t){console.log(e,t)},handlePreview(e){console.log(e)}}},p=m,d=i(2349),g=(0,d.Z)(p,n,u,!1,null,null,null),h=g.exports,b=(i(1786),{components:{Intoimg:h},data(){return{imgurl1:[{url:"../../ser/1.jpg"}],imgp:"",imgurl:"",oif:!1,erzi:[],jkp:[],bb:[],props:{label:"name",children:"zones",isLeaf:"leaf"},innerVisibleimg:!1,dialogVisible:!1,innerVisible:!1,ruleForm:{id:"",name:"",jig:"",desc:"",img:"",date1:"",date2:""},rules:{id:[{required:!0,message:"请输入商品ID",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],jig:[{required:!0,message:"请输入商品价格",trigger:"blur"}]}}},methods:{openPreview(e=0){this.imgurl1[0].url=this.ruleForm.img,console.log(this.imgurl1),this.$ImagePreview(this.imgurl1,e,{closeOnClickModal:!0,click:(e,t)=>{this.$message.success("点击事件"+t)},beforeClose:()=>{this.$message.success("关闭回调")}})},showimg(){this.innerVisibleimg=!1,this.ruleForm.img=this.imgurl},sendimg(e){console.log("图片地址",e),this.imgurl=e},loadNode(e,t){return console.log("自动执行",e,t),0===e.level?t([{name:"数码家电"},{name:"名牌服饰"},{name:"生鲜果蔬"}]):e.level>1?t([]):void 0},ntk(){this.innerVisible=!0},handleClose(e){this.$confirm("确认关闭？").then((t=>{e()})).catch((e=>{}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$api.getlll({}).then((e=>{const t=e.data;var i=Number(this.ruleForm.id);const s=t.includes(i);s?this.$message({showClose:!0,message:"抱歉，ID重复，添加失败",type:"error"}):(this.$api.addlist({id:this.ruleForm.id,name:this.ruleForm.name,jig:this.ruleForm.jig}).then((e=>{})),window.location.reload(),this.dialogVisible=!1,this.$message({showClose:!0,message:"恭喜你,添加成功",type:"success"}))}))}))},resetForm(e){this.$refs[e].resetFields()}},created(){this.$api.getshangplist({}).then((e=>{}))}}),f=b,v=(0,d.Z)(f,o,a,!1,null,null,null),F=v.exports,y={components:{Addnew:F},computed:{...(0,r.rn)(["shangp"])},data(){return{cent:!1,poq:"",input:"",tableData:[],total:0,pagesize:1,type:1,list:[],nowpage:1,dvp:!1,befor:[],ruleForm:{id:"",name:"",jig:"",desc:"",img:"",date1:"",date2:""},rules:{id:[{required:!0,message:"请输入商品ID",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],jig:[{required:!0,message:"请输入商品价格",trigger:"blur"}]}}},methods:{handleClose(e){this.$confirm("确认关闭？").then((t=>{e()})).catch((e=>{}))},submitForm(e){console.log(this.befor),this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$api.getlll({}).then((e=>{const t=e.data;var i=Number(this.befor.id);const s=t.includes(i);s&&this.befor.id!=this.poq?this.$message({showClose:!0,message:"抱歉，ID重复，修改失败",type:"error"}):(this.dvp=!1,this.$api.updatelist({id:this.befor.id,name:this.befor.name,jig:this.befor.jig,cid:this.poq}).then((e=>{console.log(this.poq)})),this.$message({showClose:!0,message:"恭喜你,修改成功",type:"success"}))}))}))},resetForm(e){this.$refs[e].resetFields()},handleEdit(e,t){this.dvp=!0,this.befor=t,console.log(t),this.ruleForm=t,this.poq=t.id,console.log(this.poq),console.log(this.befor)},...(0,r.OI)("shangp",["deletetable"]),handleDelete(e,t){this.deletetable(t),localStorage.setItem("delet",JSON.stringify(t)),console.log(t)},search(e){if(!e)return this.http(1),this.nowpage=1,void(this.type=1);this.$api.getsearch({search:e}).then((e=>{console.log("搜索"+e.data),this.nowpage=1,200===e.data.status?(this.list=e.data.data,this.total=e.data.total,this.pagesize=6,this.tableData=e.data.data.slice(0,6),this.type=2):(this.tableData=[],this.total=0,this.type=1)}))},changepage(e){this.$emit("changepage",e),this.nowpage=1,1===this.type?this.http(e):(console.log("搜索分页"),this.tableData=this.list.slice(6*(e-1),6*e))},listpp(){this.tableData=this.shangp.data,this.total=4,this.pagesize=6}},mounted(){this.listpp()}},w=y,k=(0,d.Z)(w,s,l,!1,null,"504da2a0",null),$=k.exports},8682:function(e,t,i){e.exports=i.p+"static/img/1663383132335-1.a2cc9bd6.jpeg"},1593:function(e,t,i){e.exports=i.p+"static/img/1663383584911-3.408eb18b.jpeg"}}]);
//# sourceMappingURL=0.5e23b1ba.js.map